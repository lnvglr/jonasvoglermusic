(window.webpackJsonp=window.webpackJsonp||[]).push([[4,11,15,18],{260:function(e,t,n){},264:function(e,t,n){"use strict";n(260)},265:function(e,t,n){"use strict";var r=n(2),o=n(267);r({target:"String",proto:!0,forced:n(268)("link")},{link:function(e){return o(this,"a","href",e)}})},266:function(e,t,n){"use strict";n.r(t);var r=n(258),o=n.n(r),l={name:"TransitionExpand",props:["scrollReference"],data:function(){return{variables:o.a}},methods:{enter:function(element){window.scrollTo({top:this.scrollReference,behavior:"smooth"});var e=getComputedStyle(element).width;element.style.width=e,element.style.position="absolute",element.style.visibility="hidden",element.style.height="auto";var t=getComputedStyle(element).height;element.style.width=null,element.style.position=null,element.style.visibility=null,element.style.height=0,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=t}))},afterEnter:function(element){requestAnimationFrame((function(){element.style.height="auto"})),this.afterTransition()},leave:function(element){var e=getComputedStyle(element).height;element.style.height=e,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=0}))},afterLeave:function(element){this.afterTransition()},afterTransition:function(){window.dispatchEvent(new CustomEvent("afterTransition"))}}},c=(n(264),n(10)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",{attrs:{name:"expand"},on:{enter:e.enter,"after-enter":e.afterEnter,leave:e.leave,"after-leave":e.afterLeave}},[e._t("default")],2)}),[],!1,null,"58cd22f8",null);t.default=component.exports},267:function(e,t,n){var r=n(23),o=/"/g;e.exports=function(e,t,n,l){var c=String(r(e)),d="<"+t;return""!==n&&(d+=" "+n+'="'+String(l).replace(o,"&quot;")+'"'),d+">"+c+"</"+t+">"}},268:function(e,t,n){var r=n(5);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},269:function(e,t,n){},270:function(e,t,n){},273:function(e,t,n){},293:function(e,t,n){"use strict";n(269)},294:function(e,t,n){"use strict";n(270)},296:function(e,t,n){"use strict";n(273)},305:function(e,t,n){"use strict";n.r(t);var r={name:"Details",props:{details:Array}},o=(n(296),n(10)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.details?n("ul",{staticClass:"details"},e._l(e.details,(function(t,i){return n("li",{key:t.value,staticClass:"detail",style:"--i: "+i},[n("span",{staticClass:"detail-label"},[e._v(e._s(t.label))]),e._v(" "),n("span",{staticClass:"detail-value",domProps:{innerHTML:e._s(t.value.replace(/, /g,",<br />"))}})])})),0):e._e()}),[],!1,null,"2b6cc753",null);t.default=component.exports},313:function(e,t,n){},314:function(e,t,n){},322:function(e,t,n){"use strict";n.r(t);n(19),n(15),n(25),n(26);var r=n(32),o=n(114);var l=n(158),c=n(83);function d(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||Object(l.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(6),h=(n(188),n(38),n(259),n(44),n(58),n(56),n(119),n(50),n(11),n(14),n(43),n(51),n(57),n(8)),v=n(113),m=n.n(v),j=n(266),y=n(323),w=n(324),O=n(289),C=n(305),_=n(306),E=n(325),I=n(122);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T={name:"Project",components:{CloseButton:y.default,ShareButton:w.default,ProjectDetails:C.default,ProjectHero:O.default,FestivalContainer:_.default,TransitionExpand:j.default,ProjectHeader:E.default},props:{project:Object,isOpen:Boolean,reference:[Object,Array],index:Number},data:function(){return{cinemaScope:.4189,fadedIn:!1,offset:null,prepareDescription:null,gallery:null,isPlaying:!1}},computed:L(L({},Object(h.b)({filter:"filter",experimental:"getExperimental",cookieConsent:"getCookieConsent"})),{},{projectSubtitle:function(){var e,t,n,r,o;return[null===(e=this.project.field)||void 0===e||null===(t=e.genre)||void 0===t?void 0:t.name,(null===(n=this.project.field)||void 0===n?void 0:n.details.length)>0?null===(r=this.project.field)||void 0===r||null===(o=r.details.find((function(e){return e.label.toLowerCase().includes("year")})))||void 0===o?void 0:o.value:""].filter((function(e){return e})).map((function(e){return"<span>".concat(e,"</span>")})).join('<span class="sr-only">,</span><span class="em-space"> </span>').concat('<span class="sr-only">:</span>')},heroIsVideo:function(){var e,t;return["vimeo","youtube","video_local"].includes(null===(e=this.project.field)||void 0===e||null===(t=e.hero)||void 0===t?void 0:t.type)},headerFestivals:function(){var e;if(null!==(e=this.project.field)&&void 0!==e&&e.festivals)return this.project.field.festivals.filter((function(e){return e.show_in_header}))},description:function(){var e=this.prepareDescription||this.project.content.rendered;return this.cookieConsent?e:I.default.methods.blockedIframes(e)}}),mounted:function(){this.$nextTick((function(){this.calculateOffset(this.isOpen),this.init(),this.setupGallery(this.isOpen)})),window.addEventListener("resize",m()(this.calculateOffset,100)),window.addEventListener("resize",m()(this.initialFadeIn,100)),window.addEventListener("scroll",m()(this.initialFadeIn,30)),window.addEventListener("touchmove",m()(this.initialFadeIn,30)),window.addEventListener("afterTransition",this.initialFadeIn)},unmounted:function(){window.removeEventListener("resize",m()(this.calculateOffset,100)),window.removeEventListener("resize",m()(this.initialFadeIn,100)),window.removeEventListener("scroll",m()(this.initialFadeIn,30)),window.removeEventListener("touchmove",m()(this.initialFadeIn,30)),window.addEventListener("afterTransition",this.initialFadeIn)},methods:{setupGallery:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(!t||this.gallery&&this.prepareDescription)){var n=function(e){return e.forEach((function(e){return e.remove()}))},content=this.project.content.rendered,div=document.createElement("div");div.innerHTML=content;var r=div.querySelectorAll(".wp-block-gallery");this.gallery=null===(e=d(r)[0])||void 0===e?void 0:e.outerHTML,n(r),this.prepareDescription=div.innerHTML.replace(/<p><\/p>/gi,"").replace(/(<br>\s*)+$/,"")}},close:function(){this.$store.dispatch("changeRoute",null),this.$emit("close")},open:function(e){this.setupGallery(),this.$store.dispatch("changeRoute",e),this.$emit("open",e)},init:function(){var e=this;setTimeout((function(){e.initialFadeIn()}),200+100*this.index)},initialFadeIn:function(){this.isScrolledIntoView(this.$el)&&(this.fadedIn=!0)},isScrolledIntoView:function(e){return e.getBoundingClientRect().top<=window.innerHeight},calculateOffset:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.reference)return 0;var n=this.reference["project-".concat(this.project.slug)][0];this.offset=(null==n?void 0:n.$refs.offset.getBoundingClientRect().top)+window.scrollY||0,t&&"object"!==Object(r.a)(t)&&setTimeout((function(){window.scrollTo({top:e.offset,behavior:"smooth"})}),500)}},watch:{filter:function(){this.calculateOffset(),this.initialFadeIn()},isOpen:function(e){this.setupGallery(e)}}},S=(n(354),n(355),n(10)),component=Object(S.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"projectContainer",staticClass:"project",class:{fade:!e.fadedIn&&!e.isOpen,active:e.isOpen,idle:e.isAppIdle&&e.isOpen&&e.heroIsVideo&&e.isPlaying}},[n("transition",{attrs:{name:"slide-in"}},[e.isOpen?n("CloseButton",{staticClass:"element",on:{click:e.close}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:"slide-in"}},[e.isOpen&&e.experimental?n("ShareButton",{staticClass:"element",attrs:{project:e.project}}):e._e()],1),e._v(" "),n("ProjectHeader",{attrs:{project:e.project,isOpen:e.isOpen,heroIsVideo:e.heroIsVideo},on:{playing:function(t){return e.isPlaying=t}}}),e._v(" "),n("transition-expand",{attrs:{scrollReference:e.offset}},[e.isOpen?n("div",{staticClass:"dynamic-container"},[n("div",{staticClass:"project-content"},[n("div",{staticClass:"project-description",domProps:{innerHTML:e._s(e.description)}}),e._v(" "),n("ProjectDetails",{attrs:{details:e.project.field.details}}),e._v(" "),n("FestivalContainer",{staticClass:"alignfull dynamic-padding",attrs:{festivals:e.project.field.festivals}}),e._v(" "),n("div",{staticClass:"project-gallery",domProps:{innerHTML:e._s(e.gallery)}})],1)]):e._e()])],1)}),[],!1,null,"47722283",null);t.default=component.exports;installComponents(component,{ProjectHeader:n(325).default,ProjectDetails:n(305).default})},323:function(e,t,n){"use strict";n.r(t);var r={name:"CloseButton"},o=(n(293),n(10)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"close",on:{click:function(t){return e.$emit("click")}}})}),[],!1,null,"dbf5b0aa",null);t.default=component.exports},324:function(e,t,n){"use strict";n.r(t);n(265);var r={name:"ShareButton",props:{project:{type:Object}},computed:{show:function(){return navigator.share}},methods:{share:function(){navigator.share({title:this.project.title.rendered,url:this.project.link})}}},o=(n(294),n(10)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"share",on:{click:function(t){return e.share()}}},[n("i",{staticClass:"share-button"})]):e._e()}),[],!1,null,"5286cca0",null);t.default=component.exports},354:function(e,t,n){"use strict";n(313)},355:function(e,t,n){"use strict";n(314)}}]);